<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>ตั๋งแต่งเตอร</title>
</head>

<script>

    // ฟังก์ชันแสดง popup ตอนโหลดหน้า
    window.onload = function() {
            document.getElementById('popupOverlay').style.display = 'block';
        };

        // ฟังก์ชันปิด popup
        function closePopup() {
            document.getElementById('popupOverlay').style.display = 'none';
        }

    function showPopup() {
        document.getElementById('popupOverlay').style.display = 'block';
    }

    // ฟังก์ชันปิด Popup
    function closePopup() {
        document.getElementById('popupOverlay').style.display = 'none';
    }
    

    let dropArea = document.getElementById('drop-area');

    // ป้องกันพฤติกรรมเริ่มต้นของเบราว์เซอร์เมื่อมีการลากและวาง
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, preventDefaults, false);
    });

    function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
    }

    // จัดการอีเวนต์ลากและวาง
    dropArea.addEventListener('drop', handleDrop, false);

    function handleDrop(e) {
        let dt = e.dataTransfer;
        let files = dt.files;

        handleFiles(files);
    }

    function handleFiles(files) {
        [...files].forEach(uploadFile);
        [...files].forEach(previewFile);
    }

    function uploadFile(file) {
        // โค้ดนี้จะจัดการอัปโหลดไฟล์ไปยังเซิร์ฟเวอร์
        console.log('อัปโหลดไฟล์:', file);
    }

    function previewFile(file) {
        let reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onloadend = function() {
            let img = document.createElement('img');
            img.src = reader.result;
            document.getElementById('gallery').appendChild(img);
        }
    }
  
</script>
<body>
    
    <div class="overlay" id="popupOverlay">
        <div class="popup">
            <h2>ขั้นตอนการใช้งาน</h2>
            <p>1. นำโฟลเดอร์ที่ต้องการแก้ไข ดึงมาลงไว้ที่ช่อง Upload</p>
            <p>2. ตรวจสอบโฟลเดอร์ที่ต้องการแก้ไขว่าถูกต้องหรือไม่</p>
            <p>3. หากต้องการแก้ไขเฉพาะจุด กดปุ่ม “แก้ไข” เพื่อเข้าสู่การแก้ไขขั้นสูง</p>
            <p>4. หากแก้ไขทุกอย่างเสร็จสิ้น กดปุ่ม “Finish” แล้วจะกลับมาหน้าหลัก</p>
            <p>5. กดลูกศรตรงกลางเพื่อเริ่มการแก้ไข</p>
            <p>6. ดาวน์โหลดไฟล์ที่แก้ไขเสร็จสิ้นแล้ว</p>
            <p>7. จบการทำงาน</p>
            <button class="close-btn" onclick="closePopup()">ปิด</button>
        </div>
    </div>

    <header>
        <div class="logo">
            <img src=".\img\DALL·E 2025-01-21 20.19.36 - A minimalist and elegant logo design for the name 'TERTUNG', incorporating unique shapes .webp" alt ="" >
        </div>
        <div class="site-name">
            <h1>ตั๋งแต่งเตอร์เติม</h1>
        </div>
        <p class="cl"><a href="javascript:void(0)" onclick="showPopup()">คำแนะนำ</a></p>

    </header>

    <img src="" alt="">

    <!--รับข้อมูลผู้ใช้ส่งไปเซิร์ฟเวอร์-->
    <form action="urlของเซิร์ฟ">
        
    </form>
    <div class="con">
    <div class="drop-area">
        <div class="imgc">
            <input type="file" id="file" class="imput_img" accept="image/*" webkitdirectory directory multiple hidden>
            <label for="file" class="labelimg">Upload image</label>
        </div>
        <div id="image-gallery" class="image-gallery"></div>
    </div>
        
    
</body>
</html>
